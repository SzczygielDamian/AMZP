<div class="users-table card">
  <h3>Dodaj nowe zamówienie:</h3>
  <div class="card">
    <form class="user-form" (ngSubmit)="upload()" validate>
      <div class="row">
        <div class="col-md-6 col-sm-12">
          <div class="form-group">
            <p>Wybierz produkt:</p>
            <select class="custom-select" name="produkt" [(ngModel)]="model.produkt" required >
              <option *ngFor="let produ of products" [ngValue]="produ.id_produktu">{{produ.nazwa_produktu}}</option>
            </select>
          </div>
        </div>
        <div class="col-md-6 col-sm-12" *ngIf="model.produkt === 1">
          <div class="form-group">
            <p>Wybierz model:</p>
            <select class="custom-select" name="model_produktu" [(ngModel)]="model.model_produktu" required >
              <option *ngFor="let prod of productTable" [ngValue]="prod.id_modelu">{{prod.nazwa_modelu}}</option>
            </select>
          </div>
        </div>
        <div class="col-md-6 col-sm-12" *ngIf="model.produkt === 2">
          <div class="form-group">
            <p>Wybierz model</p>
            <select class="custom-select" name="model_produktu" [(ngModel)]="model.model_produktu" required >
              <option *ngFor="let prod of productTab" [ngValue]="prod.id_modelu">{{prod.nazwa_modelu}}</option>
            </select>
          </div>
        </div>
        <div class="col-md-6 col-sm-12">
          <div class="form-group">
            <label for="ilosc_zamowienia">Ilość zamówienia</label>
            <input type="number" class="form-control" id="ilosc_zamowienia" min="1" name="ilosc_zamowienia" [(ngModel)]="model.ilosc_zamowienia" #ilosc_zamowienia="ngModel" placeholder="Ilość zamówienia" required>
          </div>
        </div>
        <div class="col-md-6 col-sm-12">
          <div class="form-group">
            <label for="data_realizacji">Data realizacji</label>
            <input type="date" class="form-control" [min]="today" id="data_realizacji" name="data_realizacji" [(ngModel)]="model.data_realizacji" #data_realizacji="ngModel" placeholder="Data realizacji" required>
          </div>
        </div>
        <div class="col-md-6 col-sm-12">
          <div class="form-group">
            <p>Dodaj zdjęcie procesu technologicznego</p>
            <input #photo id="photo" type="file" />
            <!-- button to trigger the file upload when submitted -->
            <!--<button type="button" class="btn btn-success btn-s" (click)="upload()">-->
              <!--Dodaj zdjęcie-->
            <!--</button>-->
          </div>
        </div>
      </div>
      <div *ngIf="newOrderAlert" class="alert alert-success">{{newOrderAlert}}</div>
      <button type="submit" class="btn btn-primary btn-outline-success">Zapisz</button>
    </form>
  </div>


<h3 id="users-header">Zamówienia:</h3>
<table class="table table-striped flex-lg-column d-none d-lg-block">
  <thead class="thead-inverse">
  <tr>
    <th>#</th>
    <th>numer zamówienia</th>
    <th>Nazwa produktu</th>
    <th>Model</th>
    <th>Ilość sztuk</th>
    <th>Data zamówienia</th>
    <th>Data realizacji</th>
    <th></th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let order of viewOfOrder; let i = index">
    <th scope="row">{{i+1}}</th>
      <td>{{order.id_zamowienie}}</td>
      <td>{{order.nazwa_produktu}}</td>
      <td>{{order.nazwa_modelu}}</td>
      <td>{{order.ilosc_zamowienia}}</td>
      <td>{{order.data_zamowienia |date: 'dd-MM-yyyy' }}</td>
      <td>{{order.data_realizacji |date: 'dd-MM-yyyy' }}</td>
      <td></td>
      <td></td>
  </tr>
  </tbody>
</table>
    <div class="card user-card d-block d-lg-none" *ngFor="let order of viewOfOrder">
      <p><b>Id.</b> {{order.id_zamowienie}} <b>Nazwa zamówienia:</b> {{order.nazwa_zamowienia}} <b>Model:</b> {{order.nazwa_produktu}} <b>Data zamowienia:</b> {{order.data_zamowienia |date: 'dd-MM-yyyy' }} <b>Data realizacji:</b> {{order.data_realizacji |date: 'dd-MM-yyyy' }} <b>Opis:</b> {{order.opis_zamowienia}}</p>
    </div>
</div>

